#include<stdio.h>
#include<stdlib.h>

// gcc -no-pie -fno-stack-protector chall.c -o chall

void test_server(void)
{
    char ping_message[0x20];

    puts("What would you like to send to the server?");
    scanf("%s", &ping_message);

    printf("Send to server: %s\n", ping_message);
    printf("Server send back: %s\n", ping_message);

    puts("Server is still up!");
}

void win(void)
{
    puts("Enjoy your shell~");
    system("/bin/sh");    
}

int main(void)
{
    setvbuf(stdin, 0, _IONBF, 0);
    setvbuf(stdout, 0, _IONBF, 0);
    setvbuf(stderr, 0, _IONBF, 0);

    puts("== Welcome to TurboChat v1.0 ==");
    puts("Messaging is currently down, however the server should still be up.");
    puts("There are several options that you can use.");
    puts("[1] Test Server");
    puts("[2] Exit");
    puts("Select your option:");
    
    int opt;
    scanf("%d", &opt);

    switch (opt)
    {
        case 1: test_server(); break;
        case 2: exit(0); break;
        default: break;
    }

    return 0;
}
